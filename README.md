# msa-general-service
## 목표 
### 설계
- 의존성 주입과 모듈 분리, 육각형 아키턱처를 활용한 유연한 아키텍처 설계 
  - 역할 구성: 요청 접수, 로직 처리, 요청 의뢰 
  - 모듈 구성: 각 역할에 대한 인터페이스 모듈과 구현체 모듈 분리  

### 동시성 
- 자바 동시성 관련 다양한 시도에 대해 k6로 성능 분석 
  - 자바 모니터락 
  - Lock 객체 
  - 세마포어 객체 
  - 동시성 지원 자료구조

## 도전과제 
### 설계
- [x] 육각형 아키텍처로 전환 (Issue #7)
- [x] 포트와 포트 내부를 하나의 모듈로 분리 (Issue #8)
- [x] 포트를 인터페이스 모듈로 분리 (Issue #9)
- [x] 출력 어댑터 분리 (Issue #10)
- [x] 입력 포트와 출력 포트 분리 (Issue #29)
- [x] 입력 어댑터 분리 (Issue #11)
- [x] 입력 어댑터 인터페이스 분리 (Issue #34) (Request, Response는 분리 x)

### 유스케이스 
- [x] 일반 유저 회원 정보 저장
- [ ] 일반 유저 회원 정보 조회
- [ ] 일반 유저 회원 정보 수정
- [ ] 일반 유저 회원 정보 삭제

### 성능 테스트
- [ ] User 서비스와 함께 로컬 호스트에서 k6로 부하테스트 진행 (Issue #12)

### 단위 테스트
- [ ] 입력 어댑터 단위 테스트 작성 (Issue #13)
- [ ] 서비스 단위 테스트 작성 (Issue #14)
- [ ] 출력 어댑터 단위 테스트 작성 (Issue #15)

### 동시성 
- [ ] HashMap 출력 어댑터에 대한 동기화 (Issue #16)
- [ ] ConcurrentHashMap
  - 분할 잠금으로 성능이 우수 
  - 별도의 코드가 없어서 동기화에 대한 개발자의 부담이 적음 
- [ ] synchronized
  - java 모니터락을 활용한 동기화 
  - 인스턴스 레벨의 동기화로 성능 저하가 클 수 있음 
- [ ] ReentrantLock
  - 자바 모니터락에 비해 세밀한 제어가 가능 
  - 항상 락을 제대로 해제하도록 주의해야 함 
- [ ] ReadWriteLock
  - 읽기 작업이 많은 환경에서 효율적
  - 쓰기 작업이 많다면 성능 저하 가능
- [ ] StampedLock
- [ ] Semaphore
